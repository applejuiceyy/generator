import{S as Z,i as X,s as H,e as $,t as I,c as E,a as N,h as A,d as h,g as k,J as D,K as V,j as W,E as F,L as fe,M as Se,l as q,n as K,o as T,p as Q,q as y,D as je,N as J,k as O,m as B,b as U,w as C,x as M,O as ne,y as P,B as z,F as Oe,C as x,P as ie,Q as se,G as Be,H as qe,I as Ie,z as Ae,R as oe,T as Ve,U as Y,V as ue,W as Ue,X as G,Y as Ce,Z as Me,_ as le,f as ee,$ as Pe,a0 as ze,a1 as Le,a2 as Je,a3 as _e}from"../chunks/index-0a7c8bdc.js";import{w as Fe}from"../chunks/index-e03d71dc.js";function He(i){let e,l=(i[2]?"Really "+i[0]+"?":i[0])+"",t,n,r,o;return{c(){e=$("button"),t=I(l),this.h()},l(s){e=E(s,"BUTTON",{});var a=N(e);t=A(a,l),a.forEach(h),this.h()},h(){e.disabled=n=!i[1]},m(s,a){k(s,e,a),D(e,t),r||(o=[V(e,"click",i[4]),V(e,"mouseleave",i[3])],r=!0)},p(s,[a]){a&5&&l!==(l=(s[2]?"Really "+s[0]+"?":s[0])+"")&&W(t,l),a&2&&n!==(n=!s[1])&&(e.disabled=n)},i:F,o:F,d(s){s&&h(e),r=!1,fe(o)}}}function Ze(i,e,l){let{text:t="Delete"}=e,n=Se(),r=!0,o=!1,s=null;function a(){l(1,r=!0),s=setTimeout(d,3e3)}function d(){l(2,o=!1),l(1,r=!0),clearTimeout(s)}function u(){o?n("click"):(l(2,o=!0),l(1,r=!1),s=setTimeout(a,300))}return i.$$set=f=>{"text"in f&&l(0,t=f.text)},[t,r,o,d,u]}class de extends Z{constructor(e){super(),X(this,e,Ze,He,H,{text:0})}}function Xe(i){let e,l,t,n,r,o,s;return{c(){e=$("span"),l=I(i[1]),t=O(),n=$("button"),r=I("Edit"),this.h()},l(a){e=E(a,"SPAN",{class:!0});var d=N(e);l=A(d,i[1]),d.forEach(h),t=B(a),n=E(a,"BUTTON",{});var u=N(n);r=A(u,"Edit"),u.forEach(h),this.h()},h(){U(e,"class","clickable svelte-s66s5j")},m(a,d){k(a,e,d),D(e,l),k(a,t,d),k(a,n,d),D(n,r),o||(s=[V(e,"click",i[5]),V(n,"click",i[5])],o=!0)},p(a,d){d&2&&W(l,a[1])},i:F,o:F,d(a){a&&h(e),a&&h(t),a&&h(n),o=!1,fe(s)}}}function Ye(i){let e,l,t,n,r,o,s,a,d;return o=new de({props:{text:"Cancel"}}),o.$on("click",i[2]),{c(){e=$("input"),l=O(),t=$("button"),n=I("Confirm"),r=O(),C(o.$$.fragment)},l(u){e=E(u,"INPUT",{}),l=B(u),t=E(u,"BUTTON",{});var f=N(t);n=A(f,"Confirm"),f.forEach(h),r=B(u),M(o.$$.fragment,u)},m(u,f){k(u,e,f),i[7](e),ne(e,i[4]),k(u,l,f),k(u,t,f),D(t,n),k(u,r,f),P(o,u,f),s=!0,a||(d=[V(e,"input",i[8]),V(e,"keydown",i[9]),V(t,"click",i[6])],a=!0)},p(u,f){f&16&&e.value!==u[4]&&ne(e,u[4])},i(u){s||(y(o.$$.fragment,u),s=!0)},o(u){T(o.$$.fragment,u),s=!1},d(u){u&&h(e),i[7](null),u&&h(l),u&&h(t),u&&h(r),z(o,u),a=!1,fe(d)}}}function Ge(i){let e,l,t,n;const r=[Ye,Xe],o=[];function s(a,d){return a[0]?0:1}return e=s(i),l=o[e]=r[e](i),{c(){l.c(),t=q()},l(a){l.l(a),t=q()},m(a,d){o[e].m(a,d),k(a,t,d),n=!0},p(a,[d]){let u=e;e=s(a),e===u?o[e].p(a,d):(K(),T(o[u],1,1,()=>{o[u]=null}),Q(),l=o[e],l?l.p(a,d):(l=o[e]=r[e](a),l.c()),y(l,1),l.m(t.parentNode,t))},i(a){n||(y(l),n=!0)},o(a){T(l),n=!1},d(a){o[e].d(a),a&&h(t)}}}function Ke(i,e,l){let{editing:t=!1}=e,{value:n=""}=e,r="",o;async function s(){l(4,r=n),l(0,t=!0)}function a(){l(0,t=!1)}function d(){l(1,n=r),a()}function u(_){J[_?"unshift":"push"](()=>{o=_,l(3,o)})}function f(){r=this.value,l(4,r)}const c=_=>_.key=="Enter"&&d();return i.$$set=_=>{"editing"in _&&l(0,t=_.editing),"value"in _&&l(1,n=_.value)},i.$$.update=()=>{i.$$.dirty&9&&t&&je().then(()=>{o.focus(),o.select()})},[t,n,a,o,r,s,d,u,f,c]}class Re extends Z{constructor(e){super(),X(this,e,Ke,Ge,H,{editing:0,value:1,cancel:2})}get cancel(){return this.$$.ctx[2]}}function Qe(i){let e,l;const t=i[2].default,n=Oe(t,i,i[1],null);let r=[{class:"pilled"},i[0]],o={};for(let s=0;s<r.length;s+=1)o=x(o,r[s]);return{c(){e=$("div"),n&&n.c(),this.h()},l(s){e=E(s,"DIV",{class:!0});var a=N(e);n&&n.l(a),a.forEach(h),this.h()},h(){ie(e,o),se(e,"svelte-149uinn",!0)},m(s,a){k(s,e,a),n&&n.m(e,null),l=!0},p(s,[a]){n&&n.p&&(!l||a&2)&&Be(n,t,s,s[1],l?Ie(t,s[1],a,null):qe(s[1]),null),ie(e,o=Ae(r,[{class:"pilled"},a&1&&s[0]])),se(e,"svelte-149uinn",!0)},i(s){l||(y(n,s),l=!0)},o(s){T(n,s),l=!1},d(s){s&&h(e),n&&n.d(s)}}}function We(i,e,l){const t=[];let n=oe(e,t),{$$slots:r={},$$scope:o}=e;return i.$$set=s=>{e=x(x({},e),Ve(s)),l(0,n=oe(e,t)),"$$scope"in s&&l(1,o=s.$$scope)},[n,o,r]}class xe extends Z{constructor(e){super(),X(this,e,We,Qe,H,{})}}function pe(i,e,l){const t=i.slice();return t[13]=e[l],t[14]=e,t[15]=l,t}function et(i){let e;return{c(){e=I(i[1])},l(l){e=A(l,i[1])},m(l,t){k(l,e,t)},p(l,t){t&2&&W(e,l[1])},i:F,o:F,d(l){l&&h(e)}}}function tt(i){let e,l,t,n,r,o;function s(u){i[5](u)}function a(u){i[6](u)}let d={};return i[1]!==void 0&&(d.value=i[1]),i[2]!==void 0&&(d.editing=i[2]),e=new Re({props:d}),J.push(()=>G(e,"value",s)),J.push(()=>G(e,"editing",a)),r=new de({props:{text:"Delete"}}),r.$on("click",i[7]),{c(){C(e.$$.fragment),n=O(),C(r.$$.fragment)},l(u){M(e.$$.fragment,u),n=B(u),M(r.$$.fragment,u)},m(u,f){P(e,u,f),k(u,n,f),P(r,u,f),o=!0},p(u,f){const c={};!l&&f&2&&(l=!0,c.value=u[1],Y(()=>l=!1)),!t&&f&4&&(t=!0,c.editing=u[2],Y(()=>t=!1)),e.$set(c)},i(u){o||(y(e.$$.fragment,u),y(r.$$.fragment,u),o=!0)},o(u){T(e.$$.fragment,u),T(r.$$.fragment,u),o=!1},d(u){z(e,u),u&&h(n),z(r,u)}}}function he(i,e){let l,t,n,r,o,s,a;function d(_){e[9](_,e[15])}function u(_){e[10](_,e[15])}let f={};e[0][e[15]].content!==void 0&&(f.value=e[0][e[15]].content),e[0][e[15]].editing!==void 0&&(f.editing=e[0][e[15]].editing),t=new Re({props:f}),J.push(()=>G(t,"value",d)),J.push(()=>G(t,"editing",u));function c(){return e[11](e[15])}return s=new de({props:{text:"Delete"}}),s.$on("click",c),{key:i,first:null,c(){l=$("div"),C(t.$$.fragment),o=O(),C(s.$$.fragment),this.h()},l(_){l=E(_,"DIV",{class:!0});var p=N(l);M(t.$$.fragment,p),o=B(p),M(s.$$.fragment,p),p.forEach(h),this.h()},h(){U(l,"class","candidate svelte-1xio6fs"),this.first=l},m(_,p){k(_,l,p),P(t,l,null),D(l,o),P(s,l,null),a=!0},p(_,p){e=_;const w={};!n&&p&1&&(n=!0,w.value=e[0][e[15]].content,Y(()=>n=!1)),!r&&p&1&&(r=!0,w.editing=e[0][e[15]].editing,Y(()=>r=!1)),t.$set(w)},i(_){a||(y(t.$$.fragment,_),y(s.$$.fragment,_),a=!0)},o(_){T(t.$$.fragment,_),T(s.$$.fragment,_),a=!1},d(_){_&&h(l),z(t),z(s)}}}function lt(i){let e=[],l=new Map,t,n,r,o,s,a,d=i[0];const u=f=>f[13].id;for(let f=0;f<d.length;f+=1){let c=pe(i,d,f),_=u(c);l.set(_,e[f]=he(_,c))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=O(),n=$("button"),r=I("Add")},l(f){for(let _=0;_<e.length;_+=1)e[_].l(f);t=B(f),n=E(f,"BUTTON",{});var c=N(n);r=A(c,"Add"),c.forEach(h)},m(f,c){for(let _=0;_<e.length;_+=1)e[_].m(f,c);k(f,t,c),k(f,n,c),D(n,r),o=!0,s||(a=V(n,"click",i[12]),s=!0)},p(f,c){c&1&&(d=f[0],K(),e=ue(e,c,u,1,f,d,l,t.parentNode,Ue,he,t,pe),Q())},i(f){if(!o){for(let c=0;c<d.length;c+=1)y(e[c]);o=!0}},o(f){for(let c=0;c<e.length;c+=1)T(e[c]);o=!1},d(f){for(let c=0;c<e.length;c+=1)e[c].d(f);f&&h(t),f&&h(n),s=!1,a()}}}function nt(i){let e,l,t,n,r,o,s,a,d,u,f,c;const _=[tt,et],p=[];function w(m,g){return m[3]?0:1}return l=w(i),t=p[l]=_[l](i),d=new xe({props:{$$slots:{default:[lt]},$$scope:{ctx:i}}}),{c(){e=$("span"),t.c(),n=O(),r=$("button"),o=I("Hide"),s=O(),a=$("div"),C(d.$$.fragment),this.h()},l(m){e=E(m,"SPAN",{class:!0});var g=N(e);t.l(g),n=B(g),r=E(g,"BUTTON",{});var S=N(r);o=A(S,"Hide"),S.forEach(h),g.forEach(h),s=B(m),a=E(m,"DIV",{class:!0});var L=N(a);M(d.$$.fragment,L),L.forEach(h),this.h()},h(){U(e,"class","block-name svelte-1xio6fs"),U(a,"class","block-choices")},m(m,g){k(m,e,g),p[l].m(e,null),D(e,n),D(e,r),D(r,o),k(m,s,g),k(m,a,g),P(d,a,null),u=!0,f||(c=V(r,"click",i[8]),f=!0)},p(m,[g]){let S=l;l=w(m),l===S?p[l].p(m,g):(K(),T(p[S],1,1,()=>{p[S]=null}),Q(),t=p[l],t?t.p(m,g):(t=p[l]=_[l](m),t.c()),y(t,1),t.m(e,n));const L={};g&65537&&(L.$$scope={dirty:g,ctx:m}),d.$set(L)},i(m){u||(y(t),y(d.$$.fragment,m),u=!0)},o(m){T(t),T(d.$$.fragment,m),u=!1},d(m){m&&h(e),p[l].d(),m&&h(s),m&&h(a),z(d),f=!1,c()}}}function it(i,e,l){let{candidates:t}=e,{name:n}=e,{editing:r=!1}=e,{selfEditable:o=!0}=e,s=Se();function a(m){n=m,l(1,n)}function d(m){r=m,l(2,r)}const u=()=>{s("delete")},f=()=>s("hide");function c(m,g){i.$$.not_equal(t[g].content,m)&&(t[g].content=m,l(0,t))}function _(m,g){i.$$.not_equal(t[g].editing,m)&&(t[g].editing=m,l(0,t))}const p=m=>{t.splice(m,1),l(0,t)},w=()=>{l(0,t=[...t,{content:"",editing:!0,id:t.length===0?0:Math.max(...t.map(m=>m.id))+1}])};return i.$$set=m=>{"candidates"in m&&l(0,t=m.candidates),"name"in m&&l(1,n=m.name),"editing"in m&&l(2,r=m.editing),"selfEditable"in m&&l(3,o=m.selfEditable)},[t,n,r,o,s,a,d,u,f,c,_,p,w]}class st extends Z{constructor(e){super(),X(this,e,it,nt,H,{candidates:0,name:1,editing:2,selfEditable:3})}}let j=Fe([{name:"root",id:0,choices:[{content:"@who @verb",editing:!1,id:0}],editing:!1,showing:!0},{name:"who",id:1,choices:[{content:"I",editing:!1,id:0},{content:"You",editing:!1,id:1}],editing:!1,showing:!0},{name:"verb",id:2,choices:[{content:"dance",editing:!1,id:0},{content:"revolutionize",editing:!1,id:1}],editing:!1,showing:!0}]);function ot(i){let e,l;const t=i[2].default,n=Oe(t,i,i[1],null);let r=[i[0],{class:"block"}],o={};for(let s=0;s<r.length;s+=1)o=x(o,r[s]);return{c(){e=$("div"),n&&n.c(),this.h()},l(s){e=E(s,"DIV",{class:!0});var a=N(e);n&&n.l(a),a.forEach(h),this.h()},h(){ie(e,o),se(e,"svelte-27npbu",!0)},m(s,a){k(s,e,a),n&&n.m(e,null),l=!0},p(s,[a]){n&&n.p&&(!l||a&2)&&Be(n,t,s,s[1],l?Ie(t,s[1],a,null):qe(s[1]),null),ie(e,o=Ae(r,[a&1&&s[0],{class:"block"}])),se(e,"svelte-27npbu",!0)},i(s){l||(y(n,s),l=!0)},o(s){T(n,s),l=!1},d(s){s&&h(e),n&&n.d(s)}}}function rt(i,e,l){const t=[];let n=oe(e,t),{$$slots:r={},$$scope:o}=e;return i.$$set=s=>{e=x(x({},e),Ve(s)),l(0,n=oe(e,t)),"$$scope"in s&&l(1,o=s.$$scope)},[n,o,r]}class re extends Z{constructor(e){super(),X(this,e,rt,ot,H,{})}}function at(i){const e=i-1;return e*e*e+1}function ae(i,{delay:e=0,duration:l=400,easing:t=at,x:n=0,y:r=0,opacity:o=0}={}){const s=getComputedStyle(i),a=+s.opacity,d=s.transform==="none"?"":s.transform,u=a*(1-o);return{delay:e,duration:l,easing:t,css:(f,c)=>`
			transform: ${d} translate(${(1-f)*n}px, ${(1-f)*r}px);
			opacity: ${a-u*c}`}}function ft(i){let e=Object.create(null);for(let l=0;l<i.length;l++)e[i[l].name]=i[l].choices.map(t=>t.content);return e}function ut(i){let e=Object.entries(i),l=[];for(let t=0;t<e.length;t++){let n=e[t];l.push({name:n[0],choices:n[1].map((r,o)=>({content:r,editing:!1,id:o})),id:t,editing:!1,showing:!0})}return l}function ct(i){return Array.isArray(i)&&i.filter(e=>typeof e!="string").length==0}function dt(i){return typeof i=="object"&&Object.values(i).filter(e=>!ct(e)).length==0}function _t(i){let e,l,t,n,r,o,s,a,d,u;return{c(){e=$("div"),l=$("button"),t=I("Save"),n=O(),r=$("button"),o=I("Load"),s=O(),a=$("textarea"),this.h()},l(f){e=E(f,"DIV",{class:!0});var c=N(e);l=E(c,"BUTTON",{class:!0});var _=N(l);t=A(_,"Save"),_.forEach(h),n=B(c),r=E(c,"BUTTON",{class:!0});var p=N(r);o=A(p,"Load"),p.forEach(h),c.forEach(h),s=B(f),a=E(f,"TEXTAREA",{class:!0}),N(a).forEach(h),this.h()},h(){U(l,"class","svelte-136l4wc"),U(r,"class","svelte-136l4wc"),U(e,"class","buttons svelte-136l4wc"),U(a,"class","sl svelte-136l4wc")},m(f,c){k(f,e,c),D(e,l),D(l,t),D(e,n),D(e,r),D(r,o),k(f,s,c),k(f,a,c),ne(a,i[0]),d||(u=[V(l,"click",i[1]),V(r,"click",i[2]),V(a,"input",i[3])],d=!0)},p(f,[c]){c&1&&ne(a,f[0])},i:F,o:F,d(f){f&&h(e),f&&h(s),f&&h(a),d=!1,fe(u)}}}function pt(i,e,l){let t;Ce(i,j,a=>l(4,t=a));let n="";function r(){l(0,n=JSON.stringify(t))}function o(){let a;try{a=JSON.parse(n)}catch{alert("what")}dt(a)?le(j,t=ut(a),t):alert("This makes no sense")}Me(j.subscribe(a=>l(0,n=JSON.stringify(ft(a)))));function s(){n=this.value,l(0,n)}return[n,r,o,s]}class ht extends Z{constructor(e){super(),X(this,e,pt,_t,H,{})}}function me(i,e,l){const t=i.slice();return t[11]=e[l],t[13]=l,t}function mt(i){let e,l=i[11]+"",t;return{c(){e=$("span"),t=I(l),this.h()},l(n){e=E(n,"SPAN",{class:!0});var r=N(e);t=A(r,l),r.forEach(h),this.h()},h(){U(e,"class","to-replace svelte-wkxqsc")},m(n,r){k(n,e,r),D(e,t)},p(n,r){r&2&&l!==(l=n[11]+"")&&W(t,l)},d(n){n&&h(e)}}}function bt(i){let e,l=i[11]+"",t;return{c(){e=$("span"),t=I(l)},l(n){e=E(n,"SPAN",{});var r=N(e);t=A(r,l),r.forEach(h)},m(n,r){k(n,e,r),D(e,t)},p(n,r){r&2&&l!==(l=n[11]+"")&&W(t,l)},d(n){n&&h(e)}}}function be(i,e){let l,t;function n(s,a){return s[13]%2==0?bt:mt}let r=n(e),o=r(e);return{key:i,first:null,c(){l=q(),o.c(),t=q(),this.h()},l(s){l=q(),o.l(s),t=q(),this.h()},h(){this.first=l},m(s,a){k(s,l,a),o.m(s,a),k(s,t,a)},p(s,a){e=s,r===(r=n(e))&&o?o.p(e,a):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(s){s&&h(l),o.d(s),s&&h(t)}}}function ge(i){let e,l;return{c(){e=$("div"),l=I(i[3]),this.h()},l(t){e=E(t,"DIV",{class:!0});var n=N(e);l=A(n,i[3]),n.forEach(h),this.h()},h(){U(e,"class","compile-error svelte-wkxqsc")},m(t,n){k(t,e,n),D(e,l)},p(t,n){n&8&&W(l,t[3])},d(t){t&&h(e)}}}function ke(i){let e,l,t=[],n=new Map,r,o,s,a,d=i[1];const u=c=>c[13];for(let c=0;c<d.length;c+=1){let _=me(i,d,c),p=u(_);n.set(p,t[c]=be(p,_))}let f=i[3]!=null&&ge(i);return{c(){e=$("div"),l=$("span");for(let c=0;c<t.length;c+=1)t[c].c();r=O(),f&&f.c(),this.h()},l(c){e=E(c,"DIV",{class:!0});var _=N(e);l=E(_,"SPAN",{style:!0});var p=N(l);for(let w=0;w<t.length;w+=1)t[w].l(p);p.forEach(h),r=B(_),f&&f.l(_),_.forEach(h),this.h()},h(){ee(l,"margin","10px"),ee(l,"display","block"),U(e,"class","anchored svelte-wkxqsc")},m(c,_){k(c,e,_),D(e,l);for(let p=0;p<t.length;p+=1)t[p].m(l,null);D(e,r),f&&f.m(e,null),a=!0},p(c,_){_&2&&(d=c[1],t=ue(t,_,u,1,c,d,n,l,Pe,be,null,me)),c[3]!=null?f?f.p(c,_):(f=ge(c),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(c){a||(ze(()=>{s&&s.end(1),o=Le(e,ae,{y:20}),o.start()}),a=!0)},o(c){o&&o.invalidate(),s=Je(e,ae,{y:-20}),a=!1},d(c){c&&h(e);for(let _=0;_<t.length;_+=1)t[_].d();f&&f.d(),c&&s&&s.end()}}}function gt(i){let e,l,t,n,r=i[6],o,s,a,d=ke(i);return{c(){e=$("button"),l=I("Reroll"),t=O(),n=$("div"),d.c(),this.h()},l(u){e=E(u,"BUTTON",{style:!0});var f=N(e);l=A(f,"Reroll"),f.forEach(h),t=B(u),n=E(u,"DIV",{class:!0});var c=N(n);d.l(c),c.forEach(h),this.h()},h(){ee(e,"width","100%"),U(n,"class","compile-screen svelte-wkxqsc")},m(u,f){k(u,e,f),D(e,l),k(u,t,f),k(u,n,f),d.m(n,null),o=!0,s||(a=V(e,"click",i[9]),s=!0)},p(u,[f]){f&64&&H(r,r=u[6])?(K(),T(d,1,1,F),Q(),d=ke(u),d.c(),y(d,1),d.m(n,null)):d.p(u,f)},i(u){o||(y(d),o=!0)},o(u){T(d),o=!1},d(u){u&&h(e),u&&h(t),u&&h(n),d.d(u),s=!1,a()}}}function kt(i,e,l){let{blocks:t}=e,n="@root",r=1,o=null,s=!0;function a(){let w=/@([a-zA-Z0-9-]+)/.exec(n);if(w!=null){let m=w[1],g=t.findIndex(S=>S.name===m);if(g==-1)l(3,o="Namespace "+m+" does not exist");else{let S=t[g].choices;if(S.length==0)l(3,o="Namespace "+m+" has no choices");else{let L=S[Math.floor(Math.random()*S.length)];return l(0,n=n.substring(0,w.index)+L.content+n.substring(w.index+m.length+1)),!0}}}return!1}function d(){for(let p=0;p<r;p++)if(!a()){l(4,s=!1);return}l(2,r+=.6),l(2,r=Math.min(100,r)),l(5,u=setTimeout(d,1))}let u=setTimeout(d,1);Me(()=>{clearTimeout(u)});let f=[],c=0;const _=async()=>{l(2,r=1),l(6,c++,c),l(0,n="@root"),l(4,s=!0),clearTimeout(u),l(5,u=setTimeout(d,1)),l(3,o=null)};return i.$$set=p=>{"blocks"in p&&l(8,t=p.blocks)},i.$$.update=()=>{if(i.$$.dirty&3)if(n.length>500)l(1,f=[n]);else{let p,w=/@([a-zA-Z0-9-]+)/g,m=0;for(l(1,f=[]);(p=w.exec(n))!==null;)f.push(n.substring(m,p.index)),f.push(p[1]),m=p[0].length+p.index;f.push(n.substring(m)),l(1,f),l(0,n)}},[n,f,r,o,s,u,c,d,t,_]}class vt extends Z{constructor(e){super(),X(this,e,kt,gt,H,{blocks:8})}}function ve(i,e,l){const t=i.slice();return t[11]=e[l],t[12]=e,t[13]=l,t}function we(i,e,l){const t=i.slice();return t[11]=e[l],t[14]=e,t[13]=l,t}function ye(i){let e,l;return e=new re({props:{style:"text-align: center;",$$slots:{default:[wt]},$$scope:{ctx:i}}}),{c(){C(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const r={};n&32772&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function $e(i){let e,l,t=i[11].name+"",n,r,o;function s(){return i[3](i[11],i[14],i[13])}return{c(){e=$("button"),l=I("Show "),n=I(t),this.h()},l(a){e=E(a,"BUTTON",{});var d=N(e);l=A(d,"Show "),n=A(d,t),d.forEach(h),this.h()},h(){ee(e,"margin","2px",!1)},m(a,d){k(a,e,d),D(e,l),D(e,n),r||(o=V(e,"click",s),r=!0)},p(a,d){i=a,d&4&&t!==(t=i[11].name+"")&&W(n,t)},d(a){a&&h(e),r=!1,o()}}}function Ee(i,e){let l,t,n=!e[11].showing&&$e(e);return{key:i,first:null,c(){l=q(),n&&n.c(),t=q(),this.h()},l(r){l=q(),n&&n.l(r),t=q(),this.h()},h(){this.first=l},m(r,o){k(r,l,o),n&&n.m(r,o),k(r,t,o)},p(r,o){e=r,e[11].showing?n&&(n.d(1),n=null):n?n.p(e,o):(n=$e(e),n.c(),n.m(t.parentNode,t))},d(r){r&&h(l),n&&n.d(r),r&&h(t)}}}function wt(i){let e=[],l=new Map,t,n=i[2];const r=o=>o[11].id;for(let o=0;o<n.length;o+=1){let s=we(i,n,o),a=r(s);l.set(a,e[o]=Ee(a,s))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=q()},l(o){for(let s=0;s<e.length;s+=1)e[s].l(o);t=q()},m(o,s){for(let a=0;a<e.length;a+=1)e[a].m(o,s);k(o,t,s)},p(o,s){s&4&&(n=o[2],e=ue(e,s,r,1,o,n,l,t.parentNode,Pe,Ee,t,we))},d(o){for(let s=0;s<e.length;s+=1)e[s].d(o);o&&h(t)}}}function Te(i){let e,l,t,n,r;return l=new re({props:{style:"min-width: 500px; overflow: hidden;",$$slots:{default:[yt]},$$scope:{ctx:i}}}),{c(){e=$("div"),C(l.$$.fragment),t=O(),this.h()},l(o){e=E(o,"DIV",{style:!0});var s=N(e);M(l.$$.fragment,s),t=B(s),s.forEach(h),this.h()},h(){ee(e,"display","contents")},m(o,s){k(o,e,s),P(l,e,null),D(e,t),r=!0},p(o,s){const a={};s&32772&&(a.$$scope={dirty:s,ctx:o}),l.$set(a)},i(o){r||(y(l.$$.fragment,o),ze(()=>{n||(n=_e(e,ae,{y:10,duration:100},!0)),n.run(1)}),r=!0)},o(o){T(l.$$.fragment,o),n||(n=_e(e,ae,{y:10,duration:100},!1)),n.run(0),r=!1},d(o){o&&h(e),z(l),o&&n&&n.end()}}}function yt(i){let e,l,t,n,r;function o(c){i[4](c,i[11])}function s(c){i[5](c,i[11])}function a(c){i[6](c,i[11])}function d(){return i[7](i[13])}function u(){return i[8](i[11],i[12],i[13])}let f={selfEditable:i[11].name!="root"};return i[11].editing!==void 0&&(f.editing=i[11].editing),i[11].choices!==void 0&&(f.candidates=i[11].choices),i[11].name!==void 0&&(f.name=i[11].name),e=new st({props:f}),J.push(()=>G(e,"editing",o)),J.push(()=>G(e,"candidates",s)),J.push(()=>G(e,"name",a)),e.$on("delete",d),e.$on("hide",u),{c(){C(e.$$.fragment)},l(c){M(e.$$.fragment,c)},m(c,_){P(e,c,_),r=!0},p(c,_){i=c;const p={};_&4&&(p.selfEditable=i[11].name!="root"),!l&&_&4&&(l=!0,p.editing=i[11].editing,Y(()=>l=!1)),!t&&_&4&&(t=!0,p.candidates=i[11].choices,Y(()=>t=!1)),!n&&_&4&&(n=!0,p.name=i[11].name,Y(()=>n=!1)),e.$set(p)},i(c){r||(y(e.$$.fragment,c),r=!0)},o(c){T(e.$$.fragment,c),r=!1},d(c){z(e,c)}}}function Ne(i,e){let l,t,n,r=e[11].showing&&Te(e);return{key:i,first:null,c(){l=q(),r&&r.c(),t=q(),this.h()},l(o){l=q(),r&&r.l(o),t=q(),this.h()},h(){this.first=l},m(o,s){k(o,l,s),r&&r.m(o,s),k(o,t,s),n=!0},p(o,s){e=o,e[11].showing?r?(r.p(e,s),s&4&&y(r,1)):(r=Te(e),r.c(),y(r,1),r.m(t.parentNode,t)):r&&(K(),T(r,1,1,()=>{r=null}),Q())},i(o){n||(y(r),n=!0)},o(o){T(r),n=!1},d(o){o&&h(l),r&&r.d(o),o&&h(t)}}}function $t(i){let e,l,t={blocks:i[2]};return e=new vt({props:t}),i[10](e),{c(){C(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,r){P(e,n,r),l=!0},p(n,r){const o={};r&4&&(o.blocks=n[2]),e.$set(o)},i(n){l||(y(e.$$.fragment,n),l=!0)},o(n){T(e.$$.fragment,n),l=!1},d(n){i[10](null),z(e,n)}}}function Et(i){let e,l;return e=new ht({}),{c(){C(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Tt(i){let e=i[2].filter(De).length>0,l,t,n=[],r=new Map,o,s,a,d,u,f,c,_,p,w,m,g=e&&ye(i),S=i[2];const L=b=>b[11].id;for(let b=0;b<S.length;b+=1){let v=ve(i,S,b),R=L(v);r.set(R,n[b]=Ne(R,v))}return f=new re({props:{style:"padding-bottom: 15px",$$slots:{default:[$t]},$$scope:{ctx:i}}}),_=new re({props:{$$slots:{default:[Et]},$$scope:{ctx:i}}}),{c(){g&&g.c(),l=O(),t=$("div");for(let b=0;b<n.length;b+=1)n[b].c();o=O(),s=$("div"),a=$("button"),d=I("add block"),u=O(),C(f.$$.fragment),c=O(),C(_.$$.fragment),this.h()},l(b){g&&g.l(b),l=B(b),t=E(b,"DIV",{class:!0});var v=N(t);for(let ce=0;ce<n.length;ce+=1)n[ce].l(v);v.forEach(h),o=B(b),s=E(b,"DIV",{style:!0});var R=N(s);a=E(R,"BUTTON",{});var te=N(a);d=A(te,"add block"),te.forEach(h),R.forEach(h),u=B(b),M(f.$$.fragment,b),c=B(b),M(_.$$.fragment,b),this.h()},h(){U(t,"class","blocks svelte-18089o1"),ee(s,"text-align","center")},m(b,v){g&&g.m(b,v),k(b,l,v),k(b,t,v);for(let R=0;R<n.length;R+=1)n[R].m(t,null);k(b,o,v),k(b,s,v),D(s,a),D(a,d),k(b,u,v),P(f,b,v),k(b,c,v),P(_,b,v),p=!0,w||(m=V(a,"click",i[9]),w=!0)},p(b,[v]){v&4&&(e=b[2].filter(De).length>0),e?g?(g.p(b,v),v&4&&y(g,1)):(g=ye(b),g.c(),y(g,1),g.m(l.parentNode,l)):g&&(K(),T(g,1,1,()=>{g=null}),Q()),v&4&&(S=b[2],K(),n=ue(n,v,L,1,b,S,r,t,Ue,Ne,null,ve),Q());const R={};v&32774&&(R.$$scope={dirty:v,ctx:b}),f.$set(R);const te={};v&32768&&(te.$$scope={dirty:v,ctx:b}),_.$set(te)},i(b){if(!p){y(g);for(let v=0;v<S.length;v+=1)y(n[v]);y(f.$$.fragment,b),y(_.$$.fragment,b),p=!0}},o(b){T(g);for(let v=0;v<n.length;v+=1)T(n[v]);T(f.$$.fragment,b),T(_.$$.fragment,b),p=!1},d(b){g&&g.d(b),b&&h(l),b&&h(t);for(let v=0;v<n.length;v+=1)n[v].d();b&&h(o),b&&h(s),b&&h(u),z(f,b),b&&h(c),z(_,b),w=!1,m()}}}const De=i=>!i.showing;function Nt(i,e,l){let t;Ce(i,j,p=>l(2,t=p));let n=0,r;const o=(p,w,m)=>le(j,w[m].showing=!0,t);function s(p,w){i.$$.not_equal(w.editing,p)&&(w.editing=p,j.set(t))}function a(p,w){i.$$.not_equal(w.choices,p)&&(w.choices=p,j.set(t))}function d(p,w){i.$$.not_equal(w.name,p)&&(w.name=p,j.set(t))}const u=p=>{t.splice(p,1),j.set(t)},f=(p,w,m)=>le(j,w[m].showing=!1,t),c=()=>le(j,t=[...t,{name:String(l(0,++n)),choices:[],id:t.length===0?0:Math.max(...t.map(p=>p.id))+1,editing:!0,showing:!0}],t);function _(p){J[p?"unshift":"push"](()=>{r=p,l(1,r)})}return[n,r,t,o,s,a,d,u,f,c,_]}class Ot extends Z{constructor(e){super(),X(this,e,Nt,Tt,H,{})}}export{Ot as default};
